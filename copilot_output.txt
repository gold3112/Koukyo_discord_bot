
   📝 修正完了サマリー

   以下の3つの重大な弱点を修正しました：

   ✅ 1. goroutineのパニック未処理

   修正内容:

     - monitor.goの4つのgoroutine（receiveLoop, pingLoop, keepaliveLoop, idleWatchLoop）にdefer recover()追加
     - activity/tracker.goの4つのgoroutine（worker, diffWorker, flushWorker, recentEventsGCWorker）にdefer
   recover()追加
     - パニック発生時にログ出力し、Bot全体のクラッシュを防止

   効果: 1つのgoroutineがpanicしても、他のワーカーとBot全体は正常動作を継続

   ----------------------------------------------------------------------------------------------------------------

   ✅ 2. WebSocket再接続の無限ループ

   修正内容:

     - Monitor構造体にreconnectAttempts, maxReconnectAttempts, reconnectBackoffフィールド追加
     - 指数バックオフ実装（2秒 → 4秒 → 8秒 ... 最大5分）
     - 最大リトライ回数を10回に制限
     - 成功したメッセージ受信時にカウンターリセット

   効果: ネットワーク障害時に無限ループせず、一定回数試行後に停止

   ----------------------------------------------------------------------------------------------------------------

   ✅ 3. 通知キューのサイレント破棄にメトリクス追加

   修正内容:

     - Notifier構造体にdroppedHighPriority, droppedLowPriorityカウンター追加
     - キュー満杯時にカウンターを増やし、ログに累計数を表示（⚠️マーク付き）
     - GetDroppedNotificationStats()メソッド追加
     - /statusコマンドでドロップ統計を表示

   効果: 通知ドロップが可視化され、キュー不足を早期検知可能